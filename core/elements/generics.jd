##[builtins]##
//:value:hello:<T>(v: T) => T
//:decorator:decorate
//:value:multi:<A, B>(a: A, b: B) => A
//:value:bounded:<A: int>(a: A) => A
//:value:takesInt:(a: int) => int

##[fixtures]##
==[basic]==
--[input]--
hello<int>(10)

--[output:expected]--
alias hello=h43ba1c6824812d5f77acb88da15a2d3ff56d087a int=h2f181c91131fd0daa282424fb3953604513df6fe
hello<int>(10)
// int

==[decorate target]==
--[input]--
(@decorate() hello)<10>(10)

--[output:expected]--
alias decorate=h5a7fc9170718190f9388084b28fb49f6cb4602fc hello=h43ba1c6824812d5f77acb88da15a2d3ff56d087a
(@decorate() hello)<10>(10)
// 10

==[multiple]==
--[input]--
multi<int, string>
multi<int, string>(10, "hello")

--[output:expected]--
alias int=h2f181c91131fd0daa282424fb3953604513df6fe multi=hbd8c1523d9d5c9253bb8d9e3e9613131b5415b21 string=h8f452146b75c912dedc5638091c55a088e30b7ee
multi<int, string>
// (a: int, b: string) => int
multi<int, string>(10, "hello")
// int

==[bounded]==
--[input]--
bounded<10>(10)

--[output:expected]--
alias bounded=h0aea81f2654e55c75234d4643a01d23bca887954
bounded<10>(10)
// 10

==[bound fail]==
--[input:shouldFail]--
bounded<string>("wat")

--[output:expected]--
alias bounded=h0aea81f2654e55c75234d4643a01d23bca887954 string=h8f452146b75c912dedc5638091c55a088e30b7ee
bounded<string>("wat")

==[wrong args]==
--[input:shouldFail]--
bounded<int, string>(20)
takesInt<int>(10)

--[output:expected]--
alias bounded=h0aea81f2654e55c75234d4643a01d23bca887954 error:notATypeVars=hf975b139e8972496b3acf4c415c5bc460d39dd08 error:wrongNumberOfTypeArgs=h861c5babf48bbd7fc0325178615769bdb2837d5a int=h2f181c91131fd0daa282424fb3953604513df6fe string=h8f452146b75c912dedc5638091c55a088e30b7ee takesInt=h98cad21c987827b75b207788fd3ba796e7123874
(@error:wrongNumberOfTypeArgs() bounded<int, string>)(20)
// int
(@error:notATypeVars() takesInt<int>)(10)
// int