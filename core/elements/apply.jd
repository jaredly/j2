##[builtins]##
//:value:twoArgs:(one: int, two: string) => string
//:value:simple:() => string
//:value:takeSimple:(simple: () => string) => string
//:value:takeOneArg:(simple: (v: int) => string) => string
//:value:takeIntle:(simple: () => int) => string
//:value:oneArg:(v: int) => string

##[fixtures]##
==[well-typed builtin call]==
--[input]--
toString(1)
toString(3.4)

--[output:expected]--
alias string=hd978df838905e7e1bd7bb33530ae12436e3756f4 toString=hdbca9f915bde32147ea3f57bb5676c33bd2ae511 toString_h0=h07f1e9855318b2123668f966c09983ab22c93d0e
toString(1)
// string
toString_h0(3.4)
// string

==[multiple args]==
--[input]--
twoArgs(1, "hello")

--[output:expected]--
alias string=hd978df838905e7e1bd7bb33530ae12436e3756f4 twoArgs=hb503cdf51b99ec068ec447c4b36110007ed8589e
twoArgs(1, "hello")
// string

==[pass lambda]==
--[input]--
takeSimple(simple)

--[output:expected]--
alias simple=hf8d971f5ff808a78a576d04716105e0fd805d25b string=hd978df838905e7e1bd7bb33530ae12436e3756f4 takeSimple=h556a12edbad08adcb5e4ac003b0bf43fdeeaebdc
takeSimple(simple)
// string

==[pass wrong lambda]==
--[input:shouldFail]--
takeOneArg(simple)
takeIntle(simple)

--[output:expected]--
alias error:argWrongType=hfcfe64cbbd9e081476f4c8c4a4b2f8f2f992804f int=h942cd67cf31d350ec1f39bcd0c933f586dcd176f simple=hf8d971f5ff808a78a576d04716105e0fd805d25b string=hd978df838905e7e1bd7bb33530ae12436e3756f4 takeIntle=h9f7c19eb8e09df427ab60ec751fadbd7bc3dc0f1 takeOneArg=h3e6d978dfb956709373c3096d8bfa0fc5901eec8
takeOneArg(@error:argWrongType(expected: :(v: int) => string) simple)
// string
takeIntle(@error:argWrongType(expected: :() => int) simple)
// string

==[arg type error]==
--[input:shouldFail]--
oneArg(true)

--[output:expected]--
alias error:argWrongType=hfcfe64cbbd9e081476f4c8c4a4b2f8f2f992804f int=h942cd67cf31d350ec1f39bcd0c933f586dcd176f oneArg=h1c684dfbfdbfe5aa532bc148ffa28719da1da880 string=hd978df838905e7e1bd7bb33530ae12436e3756f4
oneArg(@error:argWrongType(expected: :int) true)
// string

==[wrong number of args]==
--[input:shouldFail]--
oneArg(1, 2)

--[output:expected]--
alias error:wrongNumberOfArgs=he554807c644be72e6c4e5cb59aa0955f9ab67f13 oneArg=h1c684dfbfdbfe5aa532bc148ffa28719da1da880 string=hd978df838905e7e1bd7bb33530ae12436e3756f4
@error:wrongNumberOfArgs() oneArg(1, 2)
// string

==[not a fn]==
--[input:shouldFail]--
(10)(20)

--[output:expected]--
alias error:notAFunction=h16ba48b37c7d5999c12c172bd1bbdeac9773c21a
@error:notAFunction() 10(20)
// Error, no type!

==[calling undefined function]==
--[input:shouldFail]--
undefinedFunction()

--[output:expected]--
undefinedFunction#[:unresolved:]()
// Error, no type!

==[double apply]==
--[input:shouldFail]--
oneArg(1)()

--[output:expected]--
alias error:notAFunction=h16ba48b37c7d5999c12c172bd1bbdeac9773c21a oneArg=h1c684dfbfdbfe5aa532bc148ffa28719da1da880
@error:notAFunction() oneArg(1)()
// Error, no type!